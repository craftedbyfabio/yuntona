<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Yuntona â€” Knowledge Graph</title>
<link rel="icon" type="image/svg+xml" href="favicon.svg">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32.png">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Outfit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<style>
  *{margin:0;padding:0;box-sizing:border-box}
  :root{
    --bg:#0b1121;--surface:#111a2e;--border:#1e2d4a;
    --text:#e4e8f1;--text-muted:#a8adb8;--text-dim:#4e6283;
    --accent:#c5f227;--accent-glow:rgba(197,242,39,.15);
    --red:#ef4444;--yellow:#eab308;--green:#22c55e;--cyan:#06b6d4;
    --pink:#ec4899;--purple:#a855f7;--orange:#f97316;
  }
  body{background:var(--bg);color:var(--text);font-family:'Outfit',system-ui,sans-serif;overflow:hidden;height:100vh}
  
  .graph-header{
    position:fixed;top:0;left:0;right:0;z-index:100;
    display:flex;align-items:center;justify-content:space-between;
    padding:12px 20px;
    background:rgba(11,17,33,.85);backdrop-filter:blur(12px);
    border-bottom:1px solid var(--border);
  }
  .graph-brand{display:flex;align-items:center;gap:4px}
  .graph-brand svg{filter:drop-shadow(0 0 8px rgba(204,255,0,.2))}
  .graph-brand h1{font-size:1.1rem;font-weight:700;letter-spacing:.15em;text-transform:uppercase}
  .graph-brand span{font-size:.75rem;color:var(--text-dim);margin-left:8px;font-weight:400;letter-spacing:.05em}
  
  .controls{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
  .ctrl-btn{
    padding:6px 12px;border-radius:6px;border:1px solid var(--border);
    background:var(--surface);color:var(--text-muted);font-size:.7rem;
    cursor:pointer;transition:all .2s;font-family:inherit;letter-spacing:.03em;
  }
  .ctrl-btn:hover,.ctrl-btn.active{border-color:var(--accent);color:var(--accent);background:rgba(197,242,39,.05)}
  .ctrl-group{display:flex;gap:4px;flex-wrap:wrap}
  .ctrl-label{font-size:.6rem;color:var(--text-dim);text-transform:uppercase;letter-spacing:.1em;margin-right:4px;align-self:center}
  
  #graph{width:100%;height:100vh;cursor:grab}
  #graph:active{cursor:grabbing}
  
  .tooltip{
    position:fixed;pointer-events:none;z-index:200;
    background:var(--surface);border:1px solid var(--border);border-radius:8px;
    padding:10px 14px;max-width:320px;
    box-shadow:0 8px 32px rgba(0,0,0,.5);
    opacity:0;transition:opacity .15s;
    font-size:.75rem;line-height:1.5;
  }
  .tooltip.visible{opacity:1}
  .tooltip .tt-name{font-weight:600;font-size:.8rem;margin-bottom:4px;color:var(--text)}
  .tooltip .tt-cat{font-size:.65rem;color:var(--text-dim);margin-bottom:6px}
  .tooltip .tt-desc{color:var(--text-muted);font-size:.7rem}
  .tooltip .tt-badges{display:flex;flex-wrap:wrap;gap:3px;margin-top:6px}
  .tooltip .tt-tag{padding:2px 6px;border-radius:3px;font-size:.6rem;background:rgba(197,242,39,.08);color:var(--accent);border:1px solid rgba(197,242,39,.15)}
  .tooltip .tt-risk{padding:2px 6px;border-radius:3px;font-size:.6rem;font-weight:600;background:rgba(239,68,68,.1);color:var(--red);border:1px solid rgba(239,68,68,.2)}
  .tooltip .tt-stage{padding:2px 6px;border-radius:3px;font-size:.6rem;font-weight:600;background:rgba(6,182,212,.1);color:var(--cyan);border:1px solid rgba(6,182,212,.2)}
  
  .info-panel{
    position:fixed;bottom:20px;left:20px;z-index:100;
    background:rgba(17,26,46,.9);backdrop-filter:blur(8px);
    border:1px solid var(--border);border-radius:10px;
    padding:14px 18px;font-size:.7rem;color:var(--text-dim);line-height:1.6;max-width:260px;
  }
  .legend-row{display:flex;align-items:center;gap:8px;margin-bottom:4px}
  .legend-dot{width:10px;height:10px;border-radius:50%;flex-shrink:0}
  .legend-ring{width:10px;height:10px;border-radius:50%;flex-shrink:0;border:2px solid;background:transparent}
  .info-title{font-size:.75rem;font-weight:600;color:var(--text);margin-bottom:8px}
  .info-sep{border:none;border-top:1px solid var(--border);margin:8px 0}
  .info-hint{font-size:.6rem;color:var(--text-dim);font-style:italic}
  
  .stats-bar{
    position:fixed;bottom:20px;right:20px;z-index:100;
    display:flex;gap:12px;
    background:rgba(17,26,46,.9);backdrop-filter:blur(8px);
    border:1px solid var(--border);border-radius:10px;
    padding:10px 16px;
  }
  .stat{text-align:center}
  .stat-val{font-size:1.1rem;font-weight:700;color:var(--accent);font-variant-numeric:tabular-nums}
  .stat-lbl{font-size:.55rem;color:var(--text-dim);text-transform:uppercase;letter-spacing:.08em}
  
  @media(max-width:768px){
    .graph-header{padding:10px 12px;flex-direction:column;gap:8px}
    .info-panel{bottom:10px;left:10px;max-width:180px;padding:10px;font-size:.6rem}
    .stats-bar{bottom:10px;right:10px;padding:8px 10px;gap:8px}
    .stat-val{font-size:.85rem}
    .ctrl-btn{padding:4px 8px;font-size:.6rem}
  }
  .view-switch{position:fixed;top:16px;right:16px;z-index:10001;display:flex;flex-direction:column;align-items:center}
  .view-switch-toggle{width:36px;height:36px;border-radius:50%;background:transparent;border:none;cursor:pointer;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;padding:0;transition:transform .2s}
  .view-switch-toggle:hover{transform:scale(1.1)}
  .view-switch-toggle .dot{width:5px;height:5px;border-radius:50%;background:#c5f227;transition:box-shadow .2s}
  .view-switch-toggle:hover .dot{box-shadow:0 0 8px rgba(197,242,39,.6)}
  .view-switch-menu{position:absolute;top:42px;right:0;background:rgba(17,26,46,.95);backdrop-filter:blur(12px);border:1px solid #1e2d4a;border-radius:10px;padding:6px;min-width:160px;opacity:0;visibility:hidden;transform:translateY(-8px);transition:all .2s}
  .view-switch-menu.open{opacity:1;visibility:visible;transform:translateY(0)}
  .view-switch-menu a{display:flex;align-items:center;gap:10px;padding:10px 14px;border-radius:7px;text-decoration:none;color:#a8adb8;font-size:.78rem;font-family:'Outfit',system-ui,sans-serif;transition:all .15s;white-space:nowrap}
  .view-switch-menu a:hover{background:rgba(197,242,39,.06);color:#c5f227}
  .view-switch-menu a.active{color:#c5f227;font-weight:500}
  .view-switch-menu a svg{flex-shrink:0;opacity:.6}
  .view-switch-menu a:hover svg,.view-switch-menu a.active svg{opacity:1}
  .view-switch-menu .menu-sep{height:1px;background:#1e2d4a;margin:4px 8px}
  @media(max-width:768px){.view-switch{top:10px;right:10px}.view-switch-toggle{width:32px;height:32px}.view-switch-toggle .dot{width:4px;height:4px}}
</style>
</head>
<body>
<nav class="view-switch" aria-label="View switcher">
  <button class="view-switch-toggle" aria-label="Switch view" aria-expanded="false" id="viewSwitchBtn">
    <span class="dot"></span><span class="dot"></span><span class="dot"></span>
  </button>
  <div class="view-switch-menu" id="viewSwitchMenu">
    <a href="index.html">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/></svg>
      Card Index
    </a>
    <a href="graph.html" class="active">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="6" cy="6" r="2.5"/><circle cx="18" cy="18" r="2.5"/><circle cx="18" cy="6" r="2.5"/><circle cx="6" cy="18" r="2.5"/><path d="M8.5 7.5 15.5 16.5M15.5 7.5 8.5 16.5"/></svg>
      Knowledge Graph
    </a>
  </div>
</nav>

<div class="graph-header">
  <div class="graph-brand">
    <svg width="28" height="28" viewBox="0 0 100 100" fill="none" role="img" aria-label="Yuntona logo">
      <path d="M42 50 L58 50 L58 90 L42 90 Z" fill="#F8FAFC"/>
      <path d="M42 50 L14 15 L32 15 L50 50 Z" fill="#F8FAFC"/>
      <path d="M58 50 L86 15 L68 15 L50 50 Z" fill="#CCFF00"/>
    </svg>
    <h1><span style="position:absolute;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)">Y</span>UNTONA</h1>
    <span>Knowledge Graph</span>
  </div>
  <div class="controls">
    <span class="ctrl-label">View</span>
    <div class="ctrl-group">
      <button class="ctrl-btn active" data-view="all">All</button>
      <button class="ctrl-btn" data-view="risks">LLM Risks</button>
      <button class="ctrl-btn" data-view="stages">Lifecycle</button>
    </div>
    <span class="ctrl-label" style="margin-left:8px">Category</span>
    <div class="ctrl-group" id="catFilters"></div>
    <button class="ctrl-btn" id="resetBtn">&#x27F2; Reset</button>
  </div>
</div>

<svg id="graph" role="img" aria-label="Interactive knowledge graph showing relationships between AI security tools, OWASP LLM risks, and LLMSecOps lifecycle stages"></svg>

<div class="tooltip" id="tooltip"></div>

<div class="info-panel" role="complementary" aria-label="Graph legend">
  <div class="info-title">Node Types</div>
  <div class="legend-row"><div class="legend-dot" style="background:var(--accent)"></div><span>Tools (coloured by category)</span></div>
  <div class="legend-row"><div class="legend-ring" style="border-color:var(--red)"></div><span>LLM Risks (OWASP Top 10)</span></div>
  <div class="legend-row"><div class="legend-ring" style="border-color:var(--cyan)"></div><span>Lifecycle Stages</span></div>
  <hr class="info-sep">
  <div class="info-hint">Click node to highlight connections. Drag to reposition. Scroll to zoom.</div>
</div>

<div class="stats-bar" role="status" aria-label="Graph statistics">
  <div class="stat"><div class="stat-val" id="nodeCount">0</div><div class="stat-lbl">Nodes</div></div>
  <div class="stat"><div class="stat-val" id="edgeCount">0</div><div class="stat-lbl">Edges</div></div>
  <div class="stat"><div class="stat-val" id="toolCount">0</div><div class="stat-lbl">Tools</div></div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.9.0/d3.min.js" integrity="sha384-CjloA8y00+1SDAUkjs099PVfnY2KmDC2BZnws9kh8D/lX1s46w6EPhpXdqMfjK6i" crossorigin="anonymous"></script>
<script src="js/graph.js"></script>
</body>
</html>
